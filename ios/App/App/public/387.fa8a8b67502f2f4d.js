(self.webpackChunkapp=self.webpackChunkapp||[]).push([[387],{9387:(A,i,a)=>{"use strict";a.r(i),a.d(i,{CartPage:()=>_});var o=a(467),r=a(177),t=a(4438),e=a(2801),n=a(8314),c=a(345);const u=["qrcElement"];let l=(()=>{var g;class E{constructor(s,d){this.renderer=s,this.sanitizer=d,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.bkB,this.context=null}ngOnChanges(){var s=this;return(0,o.A)(function*(){yield s.createQRCode()})()}isValidQrCodeText(s){return!1===this.allowEmptyString?!(typeof s>"u"||""===s||"null"===s||null===s):!(typeof s>"u")}toDataURL(s){return new Promise((d,h)=>{(0,n.dY)(this.qrdata,s,(f,m)=>{f?h(f):d(m)})})}toCanvas(s,d){return new Promise((h,f)=>{(0,n.mo)(s,this.qrdata,d,m=>{m?f(m):h("success")})})}toSVG(s){return new Promise((d,h)=>{(0,n.toString)(this.qrdata,s,(f,m)=>{f?h(f):d(m)})})}renderElement(s){for(const d of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,d);this.renderer.appendChild(this.qrcElement.nativeElement,s)}createQRCode(){var s=this;return(0,o.A)(function*(){s.version&&s.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),s.version=40):s.version&&s.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),s.version=1):void 0!==s.version&&isNaN(s.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),s.version=void 0);try{if(!s.isValidQrCodeText(s.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");s.isValidQrCodeText(s.qrdata)&&""===s.qrdata&&(s.qrdata=" ");const d={color:{dark:s.colorDark,light:s.colorLight},errorCorrectionLevel:s.errorCorrectionLevel,margin:s.margin,scale:s.scale,version:s.version,width:s.width},h=s.imageSrc,f=s.imageHeight||40,m=s.imageWidth||40;switch(s.elementType){case"canvas":{const p=s.renderer.createElement("canvas");s.context=p.getContext("2d"),s.toCanvas(p,d).then(()=>{if(s.ariaLabel&&s.renderer.setAttribute(p,"aria-label",`${s.ariaLabel}`),s.title&&s.renderer.setAttribute(p,"title",`${s.title}`),h&&s.context){s.centerImage=new Image(m,f),h!==s.centerImage.src&&(s.centerImage.src=h),f!==s.centerImage.height&&(s.centerImage.height=f),m!==s.centerImage.width&&(s.centerImage.width=m);const y=s.centerImage;y&&(y.onload=()=>{var w;null===(w=s.context)||void 0===w||w.drawImage(y,p.width/2-m/2,p.height/2-f/2,m,f)})}s.renderElement(p),s.emitQRCodeURL(p)}).catch(y=>{console.error("[angularx-qrcode] canvas error:",y)});break}case"svg":{const p=s.renderer.createElement("div");s.toSVG(d).then(y=>{s.renderer.setProperty(p,"innerHTML",y);const w=p.firstChild;s.renderer.setAttribute(w,"height",`${s.width}`),s.renderer.setAttribute(w,"width",`${s.width}`),s.renderElement(w),s.emitQRCodeURL(w)}).catch(y=>{console.error("[angularx-qrcode] svg error:",y)});break}default:{const p=s.renderer.createElement("img");s.toDataURL(d).then(y=>{s.alt&&p.setAttribute("alt",s.alt),s.ariaLabel&&p.setAttribute("aria-label",s.ariaLabel),p.setAttribute("src",y),s.title&&p.setAttribute("title",s.title),s.renderElement(p),s.emitQRCodeURL(p)}).catch(y=>{console.error("[angularx-qrcode] img/url error:",y)})}}}catch(d){console.error("[angularx-qrcode] Error generating QR Code:",d.message)}})()}emitQRCodeURL(s){const d=s.constructor.name;if(d===SVGSVGElement.name){const m=new Blob([s.outerHTML],{type:"image/svg+xml"}),p=URL.createObjectURL(m),y=this.sanitizer.bypassSecurityTrustUrl(p);return void this.qrCodeURL.emit(y)}let h="";d===HTMLCanvasElement.name&&(h=s.toDataURL("image/png")),d===HTMLImageElement.name&&(h=s.src),fetch(h).then(f=>f.blob()).then(f=>URL.createObjectURL(f)).then(f=>this.sanitizer.bypassSecurityTrustUrl(f)).then(f=>{this.qrCodeURL.emit(f)}).catch(f=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+f)})}}return(g=E).\u0275fac=function(s){return new(s||g)(t.rXU(t.sFG),t.rXU(c.up))},g.\u0275cmp=t.VBU({type:g,selectors:[["qrcode"]],viewQuery:function(s,d){if(1&s&&t.GBs(u,7),2&s){let h;t.mGM(h=t.lsd())&&(d.qrcElement=h.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.OA$],decls:2,vars:2,consts:[["qrcElement",""]],template:function(s,d){1&s&&t.nrm(0,"div",null,0),2&s&&t.HbH(d.cssClass)},encapsulation:2,changeDetection:0}),E})(),C=(()=>{var g;class E{}return(g=E).\u0275fac=function(s){return new(s||g)},g.\u0275mod=t.$C({type:g}),g.\u0275inj=t.G2t({}),E})();var B=a(5079),T=a(5873),P=a(6234);function b(g,E){if(1&g){const M=t.RV6();t.j41(0,"ion-card",11)(1,"ion-item",14)(2,"ion-thumbnail",2),t.nrm(3,"ion-img",15),t.k0s(),t.j41(4,"ion-label"),t.EFF(5),t.j41(6,"p",16)(7,"ion-text",17)(8,"strong"),t.EFF(9),t.k0s()()()(),t.j41(10,"ion-row",4)(11,"ion-col")(12,"ion-button",18),t.bIt("click",function(){const d=t.eBV(M).$implicit,h=t.XpG(2);return t.Njj(h.subtractQuantity(d))}),t.nrm(13,"ion-icon",19),t.k0s()(),t.j41(14,"ion-col",20)(15,"ion-text")(16,"strong"),t.EFF(17),t.k0s()()(),t.j41(18,"ion-col")(19,"ion-button",18),t.bIt("click",function(){const d=t.eBV(M).$implicit,h=t.XpG(2);return t.Njj(h.addQuantity(d))}),t.nrm(20,"ion-icon",21),t.k0s()()()()()}if(2&g){const M=E.$implicit,s=t.XpG(2);t.R7$(3),t.Y8G("src",null==M?null:M.cover),t.R7$(2),t.SpI(" ",null==M?null:M.name," "),t.R7$(4),t.Lme(" ",s.currency,"",null==M?null:M.price," "),t.R7$(8),t.SpI(" ",null==M?null:M.quantity,"")}}function I(g,E){if(1&g&&(t.Z7z(0,b,21,5,"ion-card",11,t.Vm6),t.j41(2,"ion-list",7)(3,"ion-item")(4,"ion-label",12)(5,"strong"),t.EFF(6,"Total"),t.k0s()(),t.j41(7,"ion-text",13)(8,"strong"),t.EFF(9),t.nI1(10,"number"),t.k0s()()()()),2&g){const M=t.XpG();t.Dyx(null==M.model?null:M.model.items),t.R7$(9),t.Lme(" ",M.currency,"",t.i5U(10,2,null==M.model?null:M.model.grandTotal,"0.2-2")," ")}}function L(g,E){1&g&&(t.j41(0,"div",8),t.nrm(1,"ion-icon",22),t.j41(2,"p"),t.EFF(3," No items added yet "),t.k0s()())}function v(g,E){if(1&g){const M=t.RV6();t.j41(0,"div",9)(1,"ion-button",23),t.bIt("click",function(){t.eBV(M);const d=t.XpG();return t.Njj(d.isQrPay=!0)}),t.EFF(2," Proceed to Checkout "),t.k0s()()}}function S(g,E){if(1&g){const M=t.RV6();t.j41(0,"ion-header",24)(1,"ion-toolbar")(2,"ion-title",1),t.EFF(3),t.k0s(),t.j41(4,"ion-buttons",4)(5,"ion-button",25),t.bIt("click",function(){t.eBV(M),t.XpG();const d=t.sdS(14);return t.Njj(d.dismiss())}),t.nrm(6,"ion-icon",26),t.k0s()()()(),t.j41(7,"ion-content")(8,"div",27)(9,"ion-label"),t.EFF(10," Scan QR Code "),t.k0s(),t.nrm(11,"qrcode",28),t.k0s(),t.j41(12,"div",9)(13,"ion-button",29),t.bIt("click",function(){t.eBV(M);const d=t.XpG(),h=t.sdS(14);return t.Njj(d.pay(h))}),t.EFF(14," Scan & Pay "),t.k0s()()()}if(2&g){const M=t.XpG();t.R7$(3),t.Lme(" Pay ",M.currency,"",null==M.model?null:M.model.grandTotal," "),t.R7$(5),t.Y8G("align","center"),t.R7$(3),t.Y8G("qrdata",M.model.grandTotal.toString())("width",256)("errorCorrectionLevel","M")}}let _=(()=>{var g;class E{constructor(){this.model=null,this.currency="R",this.isQrPay=!1,this.isToast=!1,this.toastData={},this.cartService=(0,t.WQX)(P.m),(0,B.a)({scanOutline:T.uzz,cartOutline:T.jSK,remove:T.TFI,add:T.WQq,closeOutline:T.xfX})}ngOnInit(){this.cartSub=this.cartService.cart.subscribe({next:s=>{console.log(s),this.model=s}})}startScan(){var s=this;return(0,o.A)(function*(){try{const d=yield s.cartService.startScan();s.cartService.addItemByBarcode(d)}catch(d){console.log(d)}})()}addQuantity(s){this.cartService.addQuantity({...s,id:null==s?void 0:s.item_id})}subtractQuantity(s){this.cartService.subtractQuantity({...s,id:null==s?void 0:s.item_id})}pay(s){var d=this;return(0,o.A)(function*(){try{const h=yield d.cartService.startScan(0);if(console.log(h),!h)return d.isToast=!0,void(d.toastData={color:"danger",message:"Error! Please try again"});d.isToast=!0,d.toastData={color:"success",message:"Payment successful"},s.dismiss(),d.cartService.clearCart()}catch(h){console.log(h)}})()}ngOnDestroy(){this.cartSub&&this.cartSub.unsubscribe()}}return(g=E).\u0275fac=function(s){return new(s||g)},g.\u0275cmp=t.VBU({type:g,selectors:[["app-cart"]],standalone:!0,features:[t.aNF],decls:16,vars:3,consts:[["qrcode_modal",""],["align","center"],["slot","start"],["color","tertiary","defaultHref","/home"],["slot","end"],["color","dark","fill","clear",3,"click"],["name","scan-outline"],["lines","none",1,"ion-margin"],["align","center",1,"empty-screen"],[1,"ion-margin"],[3,"didDismiss","isOpen"],["color","light",1,"ion-padding-vertical"],["color","dark"],["slot","end","color","tertiary"],["lines","none"],[3,"src"],[1,"price"],["color","tertiary"],["fill","clear","color","tertiary",3,"click"],["slot","icon-only","name","remove"],[1,"quantity"],["slot","icon-only","name","add"],["name","cart-outline","color","tertiary"],["expand","block","color","tertiary","mode","android",3,"click"],[1,"ion-no-border"],["color","dark",3,"click"],["name","close-outline"],[1,"ion-margin",3,"align"],[3,"qrdata","width","errorCorrectionLevel"],["expand","block","color","tertiary",3,"click"]],template:function(s,d){if(1&s){const h=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",1),t.EFF(3,"Cart"),t.k0s(),t.j41(4,"ion-buttons",2),t.nrm(5,"ion-back-button",3),t.k0s(),t.j41(6,"ion-buttons",4)(7,"ion-button",5),t.bIt("click",function(){return t.eBV(h),t.Njj(d.startScan())}),t.nrm(8,"ion-icon",6),t.k0s()()()(),t.j41(9,"ion-content"),t.DNE(10,I,11,5,"ion-list",7)(11,L,4,0,"div",8)(12,v,3,0,"div",9),t.j41(13,"ion-modal",10,0),t.bIt("didDismiss",function(){return t.eBV(h),t.Njj(d.isQrPay=!1)}),t.DNE(15,S,15,6,"ng-template"),t.k0s()()}2&s&&(t.R7$(10),t.vxM(d.model?10:11),t.R7$(2),t.vxM(d.model?12:-1),t.R7$(),t.Y8G("isOpen",d.isQrPay))},dependencies:[e.W9,e.eU,e.BC,e.ai,e.QW,e.el,e.Jm,e.iq,e.b_,e.uz,e.Zx,e.KW,e.he,e.IO,e.ln,e.hU,e.nf,e.Sb,r.QX,C,l],styles:[".empty-screen[_ngcontent-%COMP%]{margin-top:10rem}.empty-screen[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:10rem}ion-card[_ngcontent-%COMP%]{box-shadow:none;margin-top:1rem;margin-bottom:1rem;border-radius:10px}ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparant}ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{height:5rem;width:5rem;margin:0 16px 0 0}ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:10px}ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{margin-top:10px}ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:1.1rem}ion-row[_ngcontent-%COMP%]{align-self:end;background:#fff;border-radius:10px;display:flex;align-items:center;justify-content:center}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0;margin:0 3px;font-size:.85rem}ion-list[_ngcontent-%COMP%]{margin-bottom:3rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:1.1rem}.Checkout[_ngcontent-%COMP%]{border-radius:10px}"]}),E})()},243:A=>{"use strict";var i={single_source_shortest_paths:function(a,o,r){var t={},e={};e[o]=0;var c,u,l,C,B,P,n=i.PriorityQueue.make();for(n.push(o,0);!n.empty();)for(l in C=(c=n.pop()).cost,B=a[u=c.value]||{})B.hasOwnProperty(l)&&(P=C+B[l],(typeof e[l]>"u"||e[l]>P)&&(e[l]=P,n.push(l,P),t[l]=u));if(typeof r<"u"&&typeof e[r]>"u"){var L=["Could not find a path from ",o," to ",r,"."].join("");throw new Error(L)}return t},extract_shortest_path_from_predecessor_list:function(a,o){for(var r=[],t=o;t;)r.push(t),t=a[t];return r.reverse(),r},find_path:function(a,o,r){var t=i.single_source_shortest_paths(a,o,r);return i.extract_shortest_path_from_predecessor_list(t,r)},PriorityQueue:{make:function(a){var t,o=i.PriorityQueue,r={};for(t in a=a||{},o)o.hasOwnProperty(t)&&(r[t]=o[t]);return r.queue=[],r.sorter=a.sorter||o.default_sorter,r},default_sorter:function(a,o){return a.cost-o.cost},push:function(a,o){this.queue.push({value:a,cost:o}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};A.exports=i},3174:A=>{"use strict";A.exports=function(a){for(var o=[],r=a.length,t=0;t<r;t++){var e=a.charCodeAt(t);if(e>=55296&&e<=56319&&r>t+1){var n=a.charCodeAt(t+1);n>=56320&&n<=57343&&(e=1024*(e-55296)+n-56320+65536,t+=1)}e<128?o.push(e):e<2048?(o.push(e>>6|192),o.push(63&e|128)):e<55296||e>=57344&&e<65536?(o.push(e>>12|224),o.push(e>>6&63|128),o.push(63&e|128)):e>=65536&&e<=1114111?(o.push(e>>18|240),o.push(e>>12&63|128),o.push(e>>6&63|128),o.push(63&e|128)):o.push(239,191,189)}return new Uint8Array(o).buffer}},8314:(A,i,a)=>{const r=a(2836),t=a(9460),e=a(7030),n=a(6511);function c(u,l,C,B,T){const P=[].slice.call(arguments,1),b=P.length,I="function"==typeof P[b-1];if(!I&&!r())throw new Error("Callback required as last argument");if(!I){if(b<1)throw new Error("Too few arguments provided");return 1===b?(C=l,l=B=void 0):2===b&&!l.getContext&&(B=C,C=l,l=void 0),new Promise(function(L,v){try{const S=t.create(C,B);L(u(S,l,B))}catch(S){v(S)}})}if(b<2)throw new Error("Too few arguments provided");2===b?(T=C,C=l,l=B=void 0):3===b&&(l.getContext&&typeof T>"u"?(T=B,B=void 0):(T=B,B=C,C=l,l=void 0));try{const L=t.create(C,B);T(null,u(L,l,B))}catch(L){T(L)}}i.mo=c.bind(null,e.render),i.dY=c.bind(null,e.renderToDataURL),i.toString=c.bind(null,function(u,l,C){return n.render(u,C)})},2836:A=>{A.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(A,i,a)=>{const o=a(9089).getSymbolSize;i.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,n=o(t),c=145===n?26:2*Math.ceil((n-13)/(2*e-2)),u=[n-7];for(let l=1;l<e-1;l++)u[l]=u[l-1]-c;return u.push(6),u.reverse()},i.getPositions=function(t){const e=[],n=i.getRowColCoords(t),c=n.length;for(let u=0;u<c;u++)for(let l=0;l<c;l++)0===u&&0===l||0===u&&l===c-1||u===c-1&&0===l||e.push([n[u],n[l]]);return e}},1018:(A,i,a)=>{const o=a(1677),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(e){this.mode=o.ALPHANUMERIC,this.data=e}t.getBitsLength=function(n){return 11*Math.floor(n/2)+n%2*6},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let c;for(c=0;c+2<=this.data.length;c+=2){let u=45*r.indexOf(this.data[c]);u+=r.indexOf(this.data[c+1]),n.put(u,11)}this.data.length%2&&n.put(r.indexOf(this.data[c]),6)},A.exports=t},4662:A=>{function i(){this.buffer=[],this.length=0}i.prototype={get:function(a){const o=Math.floor(a/8);return 1==(this.buffer[o]>>>7-a%8&1)},put:function(a,o){for(let r=0;r<o;r++)this.putBit(1==(a>>>o-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),a&&(this.buffer[o]|=128>>>this.length%8),this.length++}},A.exports=i},5941:A=>{function i(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}i.prototype.set=function(a,o,r,t){const e=a*this.size+o;this.data[e]=r,t&&(this.reservedBit[e]=!0)},i.prototype.get=function(a,o){return this.data[a*this.size+o]},i.prototype.xor=function(a,o,r){this.data[a*this.size+o]^=r},i.prototype.isReserved=function(a,o){return this.reservedBit[a*this.size+o]},A.exports=i},4969:(A,i,a)=>{const o=a(3174),r=a(1677);function t(e){this.mode=r.BYTE,"string"==typeof e&&(e=o(e)),this.data=new Uint8Array(e)}t.getBitsLength=function(n){return 8*n},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let n=0,c=this.data.length;n<c;n++)e.put(this.data[n],8)},A.exports=t},3677:(A,i,a)=>{const o=a(7424),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];i.getBlocksCount=function(n,c){switch(c){case o.L:return r[4*(n-1)+0];case o.M:return r[4*(n-1)+1];case o.Q:return r[4*(n-1)+2];case o.H:return r[4*(n-1)+3];default:return}},i.getTotalCodewordsCount=function(n,c){switch(c){case o.L:return t[4*(n-1)+0];case o.M:return t[4*(n-1)+1];case o.Q:return t[4*(n-1)+2];case o.H:return t[4*(n-1)+3];default:return}}},7424:(A,i)=>{i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2},i.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},i.from=function(r,t){if(i.isValid(r))return r;try{return function a(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+o)}}(r)}catch{return t}}},6269:(A,i,a)=>{const o=a(9089).getSymbolSize;i.getPositions=function(e){const n=o(e);return[[0,0],[n-7,0],[0,n-7]]}},6254:(A,i,a)=>{const o=a(9089),e=o.getBCHDigit(1335);i.getEncodedBits=function(c,u){const l=c.bit<<3|u;let C=l<<10;for(;o.getBCHDigit(C)-e>=0;)C^=1335<<o.getBCHDigit(C)-e;return 21522^(l<<10|C)}},6686:(A,i)=>{const a=new Uint8Array(512),o=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)a[e]=t,o[t]=e,t<<=1,256&t&&(t^=285);for(let e=255;e<512;e++)a[e]=a[e-255]})(),i.log=function(t){if(t<1)throw new Error("log("+t+")");return o[t]},i.exp=function(t){return a[t]},i.mul=function(t,e){return 0===t||0===e?0:a[o[t]+o[e]]}},3264:(A,i,a)=>{const o=a(1677),r=a(9089);function t(e){this.mode=o.KANJI,this.data=e}t.getBitsLength=function(n){return 13*n},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){let n;for(n=0;n<this.data.length;n++){let c=r.toSJIS(this.data[n]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[n]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),e.put(c,13)}},A.exports=t},3361:(A,i)=>{i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function o(r,t,e){switch(r){case i.Patterns.PATTERN000:return(t+e)%2==0;case i.Patterns.PATTERN001:return t%2==0;case i.Patterns.PATTERN010:return e%3==0;case i.Patterns.PATTERN011:return(t+e)%3==0;case i.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(e/3))%2==0;case i.Patterns.PATTERN101:return t*e%2+t*e%3==0;case i.Patterns.PATTERN110:return(t*e%2+t*e%3)%2==0;case i.Patterns.PATTERN111:return(t*e%3+(t+e)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}}i.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},i.from=function(t){return i.isValid(t)?parseInt(t,10):void 0},i.getPenaltyN1=function(t){const e=t.size;let n=0,c=0,u=0,l=null,C=null;for(let B=0;B<e;B++){c=u=0,l=C=null;for(let T=0;T<e;T++){let P=t.get(B,T);P===l?c++:(c>=5&&(n+=c-5+3),l=P,c=1),P=t.get(T,B),P===C?u++:(u>=5&&(n+=u-5+3),C=P,u=1)}c>=5&&(n+=c-5+3),u>=5&&(n+=u-5+3)}return n},i.getPenaltyN2=function(t){const e=t.size;let n=0;for(let c=0;c<e-1;c++)for(let u=0;u<e-1;u++){const l=t.get(c,u)+t.get(c,u+1)+t.get(c+1,u)+t.get(c+1,u+1);(4===l||0===l)&&n++}return 3*n},i.getPenaltyN3=function(t){const e=t.size;let n=0,c=0,u=0;for(let l=0;l<e;l++){c=u=0;for(let C=0;C<e;C++)c=c<<1&2047|t.get(l,C),C>=10&&(1488===c||93===c)&&n++,u=u<<1&2047|t.get(C,l),C>=10&&(1488===u||93===u)&&n++}return 40*n},i.getPenaltyN4=function(t){let e=0;const n=t.data.length;for(let u=0;u<n;u++)e+=t.data[u];return 10*Math.abs(Math.ceil(100*e/n/5)-10)},i.applyMask=function(t,e){const n=e.size;for(let c=0;c<n;c++)for(let u=0;u<n;u++)e.isReserved(u,c)||e.xor(u,c,o(t,u,c))},i.getBestMask=function(t,e){const n=Object.keys(i.Patterns).length;let c=0,u=1/0;for(let l=0;l<n;l++){e(l),i.applyMask(l,t);const C=i.getPenaltyN1(t)+i.getPenaltyN2(t)+i.getPenaltyN3(t)+i.getPenaltyN4(t);i.applyMask(l,t),C<u&&(u=C,c=l)}return c}},1677:(A,i,a)=>{const o=a(377),r=a(9359);i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(n,c){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!o.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?n.ccBits[0]:c<27?n.ccBits[1]:n.ccBits[2]},i.getBestModeForData=function(n){return r.testNumeric(n)?i.NUMERIC:r.testAlphanumeric(n)?i.ALPHANUMERIC:r.testKanji(n)?i.KANJI:i.BYTE},i.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},i.isValid=function(n){return n&&n.bit&&n.ccBits},i.from=function(n,c){if(i.isValid(n))return n;try{return function t(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+e)}}(n)}catch{return c}}},6628:(A,i,a)=>{const o=a(1677);function r(t){this.mode=o.NUMERIC,this.data=t.toString()}r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let n,c,u;for(n=0;n+3<=this.data.length;n+=3)c=this.data.substr(n,3),u=parseInt(c,10),e.put(u,10);const l=this.data.length-n;l>0&&(c=this.data.substr(n),u=parseInt(c,10),e.put(u,3*l+1))},A.exports=r},1744:(A,i,a)=>{const o=a(6686);i.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let c=0;c<t.length;c++)for(let u=0;u<e.length;u++)n[c+u]^=o.mul(t[c],e[u]);return n},i.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){const c=n[0];for(let l=0;l<e.length;l++)n[l]^=o.mul(e[l],c);let u=0;for(;u<n.length&&0===n[u];)u++;n=n.slice(u)}return n},i.generateECPolynomial=function(t){let e=new Uint8Array([1]);for(let n=0;n<t;n++)e=i.mul(e,new Uint8Array([1,o.exp(n)]));return e}},9460:(A,i,a)=>{const o=a(9089),r=a(7424),t=a(4662),e=a(5941),n=a(6214),c=a(6269),u=a(3361),l=a(3677),C=a(6289),B=a(1252),T=a(6254),P=a(1677),b=a(2868);function _(d,h,f){const m=d.size,p=T.getEncodedBits(h,f);let y,w;for(y=0;y<15;y++)w=1==(p>>y&1),d.set(y<6?y:y<8?y+1:m-15+y,8,w,!0),d.set(8,y<8?m-y-1:y<9?15-y-1+1:15-y-1,w,!0);d.set(m-8,8,1,!0)}function s(d,h,f,m){let p;if(Array.isArray(d))p=b.fromArray(d);else{if("string"!=typeof d)throw new Error("Invalid data");{let k=h;if(!k){const O=b.rawSplit(d);k=B.getBestVersionForData(O,f)}p=b.fromString(d,k||40)}}const y=B.getBestVersionForData(p,f);if(!y)throw new Error("The amount of data is too big to be stored in a QR Code");if(h){if(h<y)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+y+".\n")}else h=y;const w=function E(d,h,f){const m=new t;f.forEach(function(R){m.put(R.mode.bit,4),m.put(R.getLength(),P.getCharCountIndicator(R.mode,d)),R.write(m)});const w=8*(o.getSymbolTotalCodewords(d)-l.getTotalCodewordsCount(d,h));for(m.getLengthInBits()+4<=w&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(0);const N=(w-m.getLengthInBits())/8;for(let R=0;R<N;R++)m.put(R%2?17:236,8);return function M(d,h,f){const m=o.getSymbolTotalCodewords(h),y=m-l.getTotalCodewordsCount(h,f),w=l.getBlocksCount(h,f),R=w-m%w,k=Math.floor(m/w),O=Math.floor(y/w),Y=O+1,G=k-O,$=new C(G);let V=0;const j=new Array(w),x=new Array(w);let z=0;const J=new Uint8Array(d.buffer);for(let D=0;D<w;D++){const H=D<R?O:Y;j[D]=J.slice(V,V+H),x[D]=$.encode(j[D]),V+=H,z=Math.max(z,H)}const Q=new Uint8Array(m);let F,U,K=0;for(F=0;F<z;F++)for(U=0;U<w;U++)F<j[U].length&&(Q[K++]=j[U][F]);for(F=0;F<G;F++)for(U=0;U<w;U++)Q[K++]=x[U][F];return Q}(m,d,h)}(h,f,p),N=o.getSymbolSize(h),R=new e(N);return function I(d,h){const f=d.size,m=c.getPositions(h);for(let p=0;p<m.length;p++){const y=m[p][0],w=m[p][1];for(let N=-1;N<=7;N++)if(!(y+N<=-1||f<=y+N))for(let R=-1;R<=7;R++)w+R<=-1||f<=w+R||d.set(y+N,w+R,N>=0&&N<=6&&(0===R||6===R)||R>=0&&R<=6&&(0===N||6===N)||N>=2&&N<=4&&R>=2&&R<=4,!0)}}(R,h),function L(d){const h=d.size;for(let f=8;f<h-8;f++){const m=f%2==0;d.set(f,6,m,!0),d.set(6,f,m,!0)}}(R),function v(d,h){const f=n.getPositions(h);for(let m=0;m<f.length;m++){const p=f[m][0],y=f[m][1];for(let w=-2;w<=2;w++)for(let N=-2;N<=2;N++)d.set(p+w,y+N,-2===w||2===w||-2===N||2===N||0===w&&0===N,!0)}}(R,h),_(R,f,0),h>=7&&function S(d,h){const f=d.size,m=B.getEncodedBits(h);let p,y,w;for(let N=0;N<18;N++)p=Math.floor(N/3),y=N%3+f-8-3,w=1==(m>>N&1),d.set(p,y,w,!0),d.set(y,p,w,!0)}(R,h),function g(d,h){const f=d.size;let m=-1,p=f-1,y=7,w=0;for(let N=f-1;N>0;N-=2)for(6===N&&N--;;){for(let R=0;R<2;R++)if(!d.isReserved(p,N-R)){let k=!1;w<h.length&&(k=1==(h[w]>>>y&1)),d.set(p,N-R,k),y--,-1===y&&(w++,y=7)}if(p+=m,p<0||f<=p){p-=m,m=-m;break}}}(R,w),isNaN(m)&&(m=u.getBestMask(R,_.bind(null,R,f))),u.applyMask(m,R),_(R,f,m),{modules:R,version:h,errorCorrectionLevel:f,maskPattern:m,segments:p}}i.create=function(h,f){if(typeof h>"u"||""===h)throw new Error("No input text");let p,y,m=r.M;return typeof f<"u"&&(m=r.from(f.errorCorrectionLevel,r.M),p=B.from(f.version),y=u.from(f.maskPattern),f.toSJISFunc&&o.setToSJISFunction(f.toSJISFunc)),s(h,p,m,y)}},6289:(A,i,a)=>{const o=a(1744);function r(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(e){this.degree=e,this.genPoly=o.generateECPolynomial(this.degree)},r.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const c=o.mod(n,this.genPoly),u=this.degree-c.length;if(u>0){const l=new Uint8Array(this.degree);return l.set(c,u),l}return c},A.exports=r},9359:(A,i)=>{const a="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";i.KANJI=new RegExp(r,"g"),i.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),i.BYTE=new RegExp(t,"g"),i.NUMERIC=new RegExp(a,"g"),i.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const e=new RegExp("^"+r+"$"),n=new RegExp("^"+a+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");i.testKanji=function(l){return e.test(l)},i.testNumeric=function(l){return n.test(l)},i.testAlphanumeric=function(l){return c.test(l)}},2868:(A,i,a)=>{const o=a(1677),r=a(6628),t=a(1018),e=a(4969),n=a(3264),c=a(9359),u=a(9089),l=a(243);function C(S){return unescape(encodeURIComponent(S)).length}function B(S,_,g){const E=[];let M;for(;null!==(M=S.exec(g));)E.push({data:M[0],index:M.index,mode:_,length:M[0].length});return E}function T(S){const _=B(c.NUMERIC,o.NUMERIC,S),g=B(c.ALPHANUMERIC,o.ALPHANUMERIC,S);let E,M;return u.isKanjiModeEnabled()?(E=B(c.BYTE,o.BYTE,S),M=B(c.KANJI,o.KANJI,S)):(E=B(c.BYTE_KANJI,o.BYTE,S),M=[]),_.concat(g,E,M).sort(function(d,h){return d.index-h.index}).map(function(d){return{data:d.data,mode:d.mode,length:d.length}})}function P(S,_){switch(_){case o.NUMERIC:return r.getBitsLength(S);case o.ALPHANUMERIC:return t.getBitsLength(S);case o.KANJI:return n.getBitsLength(S);case o.BYTE:return e.getBitsLength(S)}}function v(S,_){let g;const E=o.getBestModeForData(S);if(g=o.from(_,E),g!==o.BYTE&&g.bit<E.bit)throw new Error('"'+S+'" cannot be encoded with mode '+o.toString(g)+".\n Suggested mode is: "+o.toString(E));switch(g===o.KANJI&&!u.isKanjiModeEnabled()&&(g=o.BYTE),g){case o.NUMERIC:return new r(S);case o.ALPHANUMERIC:return new t(S);case o.KANJI:return new n(S);case o.BYTE:return new e(S)}}i.fromArray=function(_){return _.reduce(function(g,E){return"string"==typeof E?g.push(v(E,null)):E.data&&g.push(v(E.data,E.mode)),g},[])},i.fromString=function(_,g){const M=function I(S){const _=[];for(let g=0;g<S.length;g++){const E=S[g];switch(E.mode){case o.NUMERIC:_.push([E,{data:E.data,mode:o.ALPHANUMERIC,length:E.length},{data:E.data,mode:o.BYTE,length:E.length}]);break;case o.ALPHANUMERIC:_.push([E,{data:E.data,mode:o.BYTE,length:E.length}]);break;case o.KANJI:_.push([E,{data:E.data,mode:o.BYTE,length:C(E.data)}]);break;case o.BYTE:_.push([{data:E.data,mode:o.BYTE,length:C(E.data)}])}}return _}(T(_,u.isKanjiModeEnabled())),s=function L(S,_){const g={},E={start:{}};let M=["start"];for(let s=0;s<S.length;s++){const d=S[s],h=[];for(let f=0;f<d.length;f++){const m=d[f],p=""+s+f;h.push(p),g[p]={node:m,lastCount:0},E[p]={};for(let y=0;y<M.length;y++){const w=M[y];g[w]&&g[w].node.mode===m.mode?(E[w][p]=P(g[w].lastCount+m.length,m.mode)-P(g[w].lastCount,m.mode),g[w].lastCount+=m.length):(g[w]&&(g[w].lastCount=m.length),E[w][p]=P(m.length,m.mode)+4+o.getCharCountIndicator(m.mode,_))}}M=h}for(let s=0;s<M.length;s++)E[M[s]].end=0;return{map:E,table:g}}(M,g),d=l.find_path(s.map,"start","end"),h=[];for(let f=1;f<d.length-1;f++)h.push(s.table[d[f]].node);return i.fromArray(function b(S){return S.reduce(function(_,g){const E=_.length-1>=0?_[_.length-1]:null;return E&&E.mode===g.mode?(_[_.length-1].data+=g.data,_):(_.push(g),_)},[])}(h))},i.rawSplit=function(_){return i.fromArray(T(_,u.isKanjiModeEnabled()))}},9089:(A,i)=>{let a;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];i.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},i.getSymbolTotalCodewords=function(t){return o[t]},i.getBCHDigit=function(r){let t=0;for(;0!==r;)t++,r>>>=1;return t},i.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');a=t},i.isKanjiModeEnabled=function(){return typeof a<"u"},i.toSJIS=function(t){return a(t)}},377:(A,i)=>{i.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}},1252:(A,i,a)=>{const o=a(9089),r=a(3677),t=a(7424),e=a(1677),n=a(377),u=o.getBCHDigit(7973);function C(P,b){return e.getCharCountIndicator(P,b)+4}function B(P,b){let I=0;return P.forEach(function(L){const v=C(L.mode,b);I+=v+L.getBitsLength()}),I}i.from=function(b,I){return n.isValid(b)?parseInt(b,10):I},i.getCapacity=function(b,I,L){if(!n.isValid(b))throw new Error("Invalid QR Code version");typeof L>"u"&&(L=e.BYTE);const _=8*(o.getSymbolTotalCodewords(b)-r.getTotalCodewordsCount(b,I));if(L===e.MIXED)return _;const g=_-C(L,b);switch(L){case e.NUMERIC:return Math.floor(g/10*3);case e.ALPHANUMERIC:return Math.floor(g/11*2);case e.KANJI:return Math.floor(g/13);default:return Math.floor(g/8)}},i.getBestVersionForData=function(b,I){let L;const v=t.from(I,t.M);if(Array.isArray(b)){if(b.length>1)return function T(P,b){for(let I=1;I<=40;I++)if(B(P,I)<=i.getCapacity(I,b,e.MIXED))return I}(b,v);if(0===b.length)return 1;L=b[0]}else L=b;return function l(P,b,I){for(let L=1;L<=40;L++)if(b<=i.getCapacity(L,I,P))return L}(L.mode,L.getLength(),v)},i.getEncodedBits=function(b){if(!n.isValid(b)||b<7)throw new Error("Invalid QR Code version");let I=b<<12;for(;o.getBCHDigit(I)-u>=0;)I^=7973<<o.getBCHDigit(I)-u;return b<<12|I}},7030:(A,i,a)=>{const o=a(7077);i.render=function(n,c,u){let l=u,C=c;typeof l>"u"&&(!c||!c.getContext)&&(l=c,c=void 0),c||(C=function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),l=o.getOptions(l);const B=o.getImageWidth(n.modules.size,l),T=C.getContext("2d"),P=T.createImageData(B,B);return o.qrToImageData(P.data,n,l),function r(e,n,c){e.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=c,n.width=c,n.style.height=c+"px",n.style.width=c+"px"}(T,C,B),T.putImageData(P,0,0),C},i.renderToDataURL=function(n,c,u){let l=u;return typeof l>"u"&&(!c||!c.getContext)&&(l=c,c=void 0),l||(l={}),i.render(n,c,l).toDataURL(l.type||"image/png",(l.rendererOpts||{}).quality)}},6511:(A,i,a)=>{const o=a(7077);function r(n,c){const u=n.a/255,l=c+'="'+n.hex+'"';return u<1?l+" "+c+'-opacity="'+u.toFixed(2).slice(1)+'"':l}function t(n,c,u){let l=n+c;return typeof u<"u"&&(l+=" "+u),l}i.render=function(c,u,l){const C=o.getOptions(u),B=c.modules.size,T=c.modules.data,P=B+2*C.margin,b=C.color.light.a?"<path "+r(C.color.light,"fill")+' d="M0 0h'+P+"v"+P+'H0z"/>':"",I="<path "+r(C.color.dark,"stroke")+' d="'+function e(n,c,u){let l="",C=0,B=!1,T=0;for(let P=0;P<n.length;P++){const b=Math.floor(P%c),I=Math.floor(P/c);!b&&!B&&(B=!0),n[P]?(T++,P>0&&b>0&&n[P-1]||(l+=B?t("M",b+u,.5+I+u):t("m",C,0),C=0,B=!1),b+1<c&&n[P+1]||(l+=t("h",T),T=0)):C++}return l}(T,B,C.margin)+'"/>',S='<svg xmlns="http://www.w3.org/2000/svg" '+(C.width?'width="'+C.width+'" height="'+C.width+'" ':"")+'viewBox="0 0 '+P+" "+P+'" shape-rendering="crispEdges">'+b+I+"</svg>\n";return"function"==typeof l&&l(null,S),S}},7077:(A,i)=>{function a(o){if("number"==typeof o&&(o=o.toString()),"string"!=typeof o)throw new Error("Color should be defined as hex string");let r=o.slice().replace("#","").split("");if(r.length<3||5===r.length||r.length>8)throw new Error("Invalid hex color: "+o);(3===r.length||4===r.length)&&(r=Array.prototype.concat.apply([],r.map(function(e){return[e,e]}))),6===r.length&&r.push("F","F");const t=parseInt(r.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+r.slice(0,6).join("")}}i.getOptions=function(r){r||(r={}),r.color||(r.color={});const e=r.width&&r.width>=21?r.width:void 0;return{width:e,scale:e?4:r.scale||4,margin:typeof r.margin>"u"||null===r.margin||r.margin<0?4:r.margin,color:{dark:a(r.color.dark||"#000000ff"),light:a(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},i.getScale=function(r,t){return t.width&&t.width>=r+2*t.margin?t.width/(r+2*t.margin):t.scale},i.getImageWidth=function(r,t){const e=i.getScale(r,t);return Math.floor((r+2*t.margin)*e)},i.qrToImageData=function(r,t,e){const n=t.modules.size,c=t.modules.data,u=i.getScale(n,e),l=Math.floor((n+2*e.margin)*u),C=e.margin*u,B=[e.color.light,e.color.dark];for(let T=0;T<l;T++)for(let P=0;P<l;P++){let b=4*(T*l+P),I=e.color.light;T>=C&&P>=C&&T<l-C&&P<l-C&&(I=B[c[Math.floor((T-C)/u)*n+Math.floor((P-C)/u)]?1:0]),r[b++]=I.r,r[b++]=I.g,r[b++]=I.b,r[b]=I.a}}}}]);